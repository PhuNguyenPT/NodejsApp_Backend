# =============================================================================
# ENVIRONMENT TEMPLATE - COPY TO .env.dev, .env.prod, or .env.staging
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
SERVER_PORT=3000
SERVER_PORT_1=3001
SERVER_PORT_2=3002
SERVER_TLS_PORT=3443
SERVER_TLS_PORT_1=3444
SERVER_TLS_PORT_2=3445
SERVER_HOSTNAME=localhost
SERVER_PATH=/api
SERVER_BATCH_CONCURRENCY=2

# =============================================================================
# CACHE TTL CONFIGURATION (in seconds)
# =============================================================================
# Cache duration for admission field values
CACHE_TTL_ADMISSION_FIELDS_IN_SECONDS=1800
CACHE_TTL_STUDENT_IN_SECONDS=3600

# =============================================================================
# CI CONFIGURATION (Set true for CI)
# =============================================================================
CI=false

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# =============================================================================
# MULTER CONFIGURATION
# =============================================================================
FILE_SIZE=10485760

# =============================================================================
# POSTGRESQL DATABASE CONFIGURATION
# =============================================================================
POSTGRES_VERSION=18
POSTGRES_IMAGE=pgvector/pgvector:pg${POSTGRES_VERSION}
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_EXTERNAL_PORT=5432
POSTGRES_USER=myuser
POSTGRES_PASSWORD=secret
POSTGRES_DB=node_app_dev

# =============================================================================
# TYPEORM SETTINGS
# =============================================================================
# Set to 'true' only for development to auto-create tables. Should be 'false' in production.
DB_SYNCHRONIZE=false
# Migration settings - Set to 'false' for development. Should be 'true' in production.
DB_RUN_MIGRATIONS_ON_STARTUP=true
# Set to 'true' only for development to see SQL queries in the console. Should be 'false' in production.
DB_LOGGING=true
DB_LOGGING_LEVELS=

# =============================================================================
# ADMIN USER CONFIGURATION
# =============================================================================
# Default Admin User (Created during migrations)
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD="SecureAdminPassword123!"
ADMIN_NAME="System Administrator"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_DIR=logs
ENABLE_FILE_LOGGING=true

# =============================================================================
# KEY PAIR CONFIGURATION
# =============================================================================
PRIVATE_KEY_PATH=./private.pem
PUBLIC_KEY_PATH=./public.pem

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_ACCESS_TOKEN_EXPIRATION_IN_SECONDS=3600
JWT_AUDIENCE="audience"
JWT_ISSUER="app"
JWT_REFRESH_TOKEN_EXPIRATION_IN_SECONDS=604800

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_IMAGE=redis:latest
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_EXTERNAL_PORT=6379
REDIS_DB=0
# Redis authentication (ACL-based)
REDIS_PASSWORD=password
REDIS_USERNAME=myuser
REDIS_USER_PASSWORD=myuserpass

# =============================================================================
# PAGINATION CONFIGURATION
# =============================================================================
PAGINATION_DEFAULT_PAGE=1
PAGINATION_DEFAULT_SIZE=20
PAGINATION_MAX_SIZE=2000
PAGINATION_MIN_SIZE=1

# =============================================================================
# MISTRAL AI API CONFIGURATION
# =============================================================================
MISTRAL_API_KEY=your_mistral_api_key_here

# =============================================================================
# PREDICT MODEL SERVICE CONFIGURATION
# =============================================================================
SERVICE_BATCH_CONCURRENCY=10
SERVICE_INPUTS_PER_WORKER=3
SERVICE_L1_CHUNK_DELAY_MS=100
SERVICE_L1_CHUNK_SIZE_INPUT_ARRAY=3
SERVICE_L2_CHUNK_DELAY_MS=100
SERVICE_L2_CHUNK_SIZE_INPUT_ARRAY=3
SERVICE_MAX_RETRIES=2
SERVICE_MIN_BATCH_CONCURRENCY=1
SERVICE_NETWORK_LATENCY_MS=100
SERVICE_PREDICTION_CONCURRENCY=2
SERVICE_REQUEST_DELAY_MS=100
SERVICE_RETRY_BASE_DELAY_MS=2000
SERVICE_RETRY_ITERATION_DELAY_MS=1000
SERVICE_SERVER_HOSTNAME=localhost
SERVICE_SERVER_PATH=
SERVICE_SERVER_PORT=8000
SERVICE_TIMEOUT_IN_MS=90000

# =============================================================================
# TLS/SSL CONFIGURATION
# =============================================================================
TLS_CA_PATH=./tls/ca.crt
TLS_CERT_PATH=./tls/backend.crt
TLS_KEY_PATH=./tls/backend.key

# Port ranges for replicas
SERVER_PORT_RANGE_START=3002
SERVER_PORT_RANGE_END=3004
SERVER_TLS_PORT_RANGE_START=3443
SERVER_TLS_PORT_RANGE_END=3445

TRUST_PROXY_LEVEL=0